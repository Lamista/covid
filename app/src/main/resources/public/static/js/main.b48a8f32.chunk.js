(this["webpackJsonpapp-ui"]=this["webpackJsonpapp-ui"]||[]).push([[0],{192:function(t,e,a){},195:function(t,e,a){},196:function(t,e,a){"use strict";a.r(e);var n=a(0),c=a.n(n),o=a(66),s=a.n(o),r=a(38),i=a(2),l=(a(73),a(74),a(75),a(78),a(22)),u=a(23),d=a(25),h=a(24),p=a(8),j=a.n(p),b="http://localhost:8080/app",m=a(67),x=a(1),f=function(t){var e=t.chartData,a={labels:e.year_weeks,datasets:[{label:"cases/week",data:e.casesPerWeek,fill:!1,backgroundColor:"rgb(54, 162, 235)",borderColor:"rgba(54, 162, 235, 0.2)",yAxisID:"y-axis-1"},{label:"deaths/week",data:e.deathsPerWeek,fill:!1,backgroundColor:"rgb(255, 99, 132)",borderColor:"rgba(255, 99, 132, 0.2)",yAxisID:"y-axis-1"}]};return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(m.Line,{data:a,options:{scales:{yAxes:[{type:"linear",display:!0,position:"left",id:"y-axis-1"}]}}})})},O=(a(192),function(t){var e=t.countries,a=t.handleSelect;return Object(x.jsxs)("div",{className:"dropdown",children:[Object(x.jsx)("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"/app"===window.location.pathname||"/app/"===window.location.pathname?"All countries":window.location.pathname.split("/")[2].replaceAll("%20"," ").replaceAll("&nbsp;"," ")}),Object(x.jsxs)("div",{className:"dropdown-menu scrollable-menu","aria-labelledby":"dropdownMenuButton",children:["/app"!==window.location.pathname&&Object(x.jsx)("button",{className:"dropdown-item",onClick:a,children:"All countries"}),e.map((function(t){return Object(x.jsx)("button",{className:"dropdown-item",onClick:a,children:t},t)}))]})]})}),g=function(t){var e=t.countries,a=t.handleSelect;return Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{className:"mt-5",children:"COVID-19 statistics"}),Object(x.jsx)("h5",{children:"Cases and deaths by country"}),Object(x.jsxs)("div",{className:"row mt-5",children:[Object(x.jsx)("p",{className:"col-6 text-right",children:"Select country: "}),Object(x.jsx)("div",{className:"col-6 text-left",children:Object(x.jsx)(O,{countries:e,handleSelect:a})})]})]})},v=function(t){Object(d.a)(a,t);var e=Object(h.a)(a);function a(){var t;return Object(l.a)(this,a),(t=e.call(this)).componentDidMount=function(){j.a.get("".concat(b,"/api/data/countries")).then((function(e){return t.setState({countries:e.data})})).catch((function(t){return console.log(t)})),j.a.get("".concat(b,"/api/data/all-countries")).then((function(e){t.setState({chartData:e.data})})).catch((function(t){return console.log(t)}))},t.handleSelect=function(e){e.preventDefault();var a=e.target.innerHTML;"All countries"===a?(j.a.get("".concat(b,"/api/data/all-countries")).then((function(e){t.setState({chartData:e.data})})).catch((function(t){return console.log(t)})),t.props.history.push("/")):(j.a.get("".concat(b,"/api/data/").concat(a)).then((function(e){t.setState({chartData:e.data})})).catch((function(t){return console.log(t)})),t.props.history.push("/".concat(a)))},t.state={countries:[],chartData:{},countrySelected:""},t}return Object(u.a)(a,[{key:"render",value:function(){return Object(x.jsxs)("div",{className:"container text-center",children:[Object(x.jsx)(g,{countries:this.state.countries,handleSelect:this.handleSelect}),Object(x.jsx)("div",{className:"mt-5",children:Object(x.jsx)(f,{chartData:this.state.chartData})})]})}}]),a}(n.Component),y=function(t){return Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("div",{className:"m-5",children:["Route did not match",Object(x.jsx)("button",{className:"btn btn-primary ml-3",onClick:function(){return t.history.push("/")},children:"Go Home"})]})})},w=function(t){Object(d.a)(a,t);var e=Object(h.a)(a);function a(){var t;return Object(l.a)(this,a),(t=e.call(this)).componentDidMount=function(){j.a.get("".concat(b,"/api/data/countries")).then((function(e){return t.setState({countries:e.data})})).catch((function(t){return console.log(t)})),j.a.get("".concat(b,"/api/data/").concat(window.location.pathname.split("/")[2])).then((function(e){t.setState({chartData:e.data})})).catch((function(t){return console.log(t)}))},t.handleSelect=function(e){e.preventDefault();var a=e.target.innerHTML;"All countries"===a?(j.a.get("".concat(b,"/api/data/all-countries")).then((function(e){t.setState({chartData:e.data})})).catch((function(t){return console.log(t)})),t.props.history.push("/")):(j.a.get("".concat(b,"/api/data/").concat(a)).then((function(e){t.setState({chartData:e.data})})).catch((function(t){return console.log(t)})),t.props.history.push("/".concat(a)))},t.state={countries:[],chartData:{}},t}return Object(u.a)(a,[{key:"render",value:function(){return Object(x.jsxs)("div",{className:"container text-center",children:[Object(x.jsx)(g,{countries:this.state.countries,handleSelect:this.handleSelect}),Object(x.jsx)("div",{className:"mt-5",children:Object(x.jsx)(f,{chartData:this.state.chartData})})]})}}]),a}(n.Component),D=function(t){return Object(x.jsx)("div",{children:Object(x.jsxs)(i.c,{children:[Object(x.jsx)(i.a,{exact:!0,path:"/",component:v}),Object(x.jsx)(i.a,{exact:!0,path:"/All%20countries",component:v}),Object(x.jsx)(i.a,{path:"/:country",component:w}),Object(x.jsx)(i.a,{path:"*",component:y}),Object(x.jsx)(i.a,{component:y})]})})};a(195);document.title="Covid-19 statistics",s.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(r.a,{basename:"/app",children:Object(x.jsx)(D,{})})}),document.getElementById("root"))},78:function(t,e,a){}},[[196,1,2]]]);
//# sourceMappingURL=main.b48a8f32.chunk.js.map