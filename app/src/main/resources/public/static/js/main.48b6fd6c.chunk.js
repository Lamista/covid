(this["webpackJsonpapp-ui"]=this["webpackJsonpapp-ui"]||[]).push([[0],{195:function(t,e,n){},196:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),o=n(66),r=n.n(o),s=n(38),i=n(2),l=(n(73),n(74),n(75),n(78),n(22)),d=n(23),u=n(25),h=n(24),j=n(13),b=n.n(j),p="http://localhost:8080/app",x=(n(95),n(1)),m=function(t){var e=t.countries,n=t.handleSelect;return Object(x.jsxs)("div",{className:"dropdown",children:[Object(x.jsx)("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"/app"===window.location.pathname?"All countries":window.location.pathname.split("/")[2]}),Object(x.jsx)("div",{className:"dropdown-menu scrollable-menu","aria-labelledby":"dropdownMenuButton",children:e.map((function(t){return Object(x.jsx)("button",{className:"dropdown-item",onClick:n,children:t},t)}))})]})},O=function(t){var e=t.countries,n=t.handleSelect;return Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{className:"mt-5",children:"COVID-19 statistics"}),Object(x.jsx)("h5",{children:"Cases and deaths by country"}),Object(x.jsxs)("div",{className:"row mt-5",children:[Object(x.jsx)("p",{className:"col-6 text-right",children:"Select country: "}),Object(x.jsx)("div",{className:"col-6 text-left",children:Object(x.jsx)(m,{countries:e,handleSelect:n})})]})]})},f=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;return Object(l.a)(this,n),(t=e.call(this)).componentDidMount=function(){b.a.get("".concat(p,"/api/data/countries")).then((function(e){return t.setState({countries:e.data})})).catch((function(t){return console.log(t)}))},t.handleSelect=function(e){e.preventDefault();var n=e.target.innerHTML;t.props.history.push("/".concat(n)),t.setState({countrySelected:n})},t.state={countries:[],chartData:{},countrySelected:""},t}return Object(d.a)(n,[{key:"render",value:function(){return Object(x.jsx)("div",{className:"container text-center",children:Object(x.jsx)(O,{countries:this.state.countries,handleSelect:this.handleSelect})})}}]),n}(a.Component),v=function(t){return Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("div",{className:"m-5",children:["Route did not match",Object(x.jsx)("button",{className:"btn btn-primary ml-3",onClick:function(){return t.history.push("/")},children:"Go Home"})]})})},y=n(67),g=function(t){var e=t.chartData,n={labels:e.year_weeks,datasets:[{label:"Cases/week",data:e.casesPerWeek,fill:!1,backgroundColor:"rgb(54, 162, 235)",borderColor:"rgba(54, 162, 235, 0.2)",yAxisID:"y-axis-1"},{label:"Deaths/week",data:e.deathsPerWeek,fill:!1,backgroundColor:"rgb(255, 99, 132)",borderColor:"rgba(255, 99, 132, 0.2)",yAxisID:"y-axis-1"}]};return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(y.Line,{data:n,options:{scales:{yAxes:[{type:"linear",display:!0,position:"left",id:"y-axis-1"}]}}})})},w=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;return Object(l.a)(this,n),(t=e.call(this)).componentDidMount=function(){b.a.get("".concat(p,"/api/data/countries")).then((function(e){return t.setState({countries:e.data})})).catch((function(t){return console.log(t)})),b.a.get("".concat(p,"/api/data/").concat(window.location.pathname.split("/")[2])).then((function(e){t.setState({chartData:e.data}),console.log(e)})).catch((function(t){return console.log(t)}))},t.handleSelect=function(e){e.preventDefault();var n=e.target.innerHTML;b.a.get("".concat(p,"/api/data/").concat(n)).then((function(e){t.setState({chartData:e.data})})).catch((function(t){return console.log(t)})),t.props.history.push("/".concat(n))},t.state={countries:[],chartData:{}},t}return Object(d.a)(n,[{key:"render",value:function(){return Object(x.jsxs)("div",{className:"container text-center",children:[Object(x.jsx)(O,{countries:this.state.countries,handleSelect:this.handleSelect}),Object(x.jsx)("div",{className:"mt-5",children:Object(x.jsx)(g,{chartData:this.state.chartData})})]})}}]),n}(a.Component),S=function(t){return Object(x.jsx)("div",{children:Object(x.jsxs)(i.c,{children:[Object(x.jsx)(i.a,{exact:!0,path:"/",component:f}),Object(x.jsx)(i.a,{path:"/:country",component:w}),Object(x.jsx)(i.a,{path:"*",component:v}),Object(x.jsx)(i.a,{component:v})]})})};n(195);document.title="Covid-19 statistics",r.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(s.a,{basename:"/app",children:Object(x.jsx)(S,{})})}),document.getElementById("root"))},78:function(t,e,n){},95:function(t,e,n){}},[[196,1,2]]]);
//# sourceMappingURL=main.48b6fd6c.chunk.js.map